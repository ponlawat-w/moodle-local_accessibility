define("local_accessibility/colourwidget",["exports","./common","jquery"],(function(_exports,_common,_jquery){var obj;
/**
   * Default script for colourpicker widgets
   *
   * @module      local/accessibility
   * @copyright   2023 Ponlawat Weerapanpisit <ponlawat_w@outlook.co.th>
   * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};_exports.init=function(widget,savewidgetname,stylename){let bodyclassname=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,selector=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"body, body *";(0,_jquery.default)((()=>{const revokedefault=()=>{bodyclassname&&(0,_jquery.default)("body").removeClass(bodyclassname)},defaultattrname="data-default-".concat(stylename),$container=(0,_jquery.default)("#".concat(widget,"-container"));if(!$container.length)return;const $input=$container.find("input[name=color]");if(!$input.length)return;$input.on("change input",(async()=>{const colour=$input.val();if(colour&&/#[0-9a-f]{6}/gi.exec(colour)){revokedefault();for(const $element of[...(0,_jquery.default)(selector)].map((e=>(0,_jquery.default)(e))))$element.attr(defaultattrname)||$element.attr(defaultattrname,$element.css(stylename)),$element.css(stylename,colour);await(0,_common.saveWidgetConfig)(savewidgetname,colour)}}));const $resetbtn=$container.find(".".concat(widget,"-resetbtn"));$resetbtn.length&&$resetbtn.on("click",(async()=>{$input.val(""),revokedefault();for(const element of[...(0,_jquery.default)(selector)]){var _$element$attr;const $element=(0,_jquery.default)(element),defaultcolour=null!==(_$element$attr=$element.attr(defaultattrname))&&void 0!==_$element$attr?_$element$attr:"";$element.css(stylename,defaultcolour),$element.removeAttr(defaultattrname)}await(0,_common.saveWidgetConfig)(savewidgetname,null)}))}))}}));

//# sourceMappingURL=colourwidget.min.js.map